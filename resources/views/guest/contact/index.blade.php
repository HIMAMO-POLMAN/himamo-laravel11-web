@extends('guest.layouts.app')
@section('content')
    <div class="wrap bg-light">
        <div class="parallax3">
            <div class="container pt-4 pb-5">
                <div class="row">
                    <div class="col pt-4">
                        <div class="row slider-text text-center">
                            <h1 class="pt-5 quote"><span>Media</span> Kami</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <section id="contact-form">

                <div class="container pb-5 px-5 pt-5 py-5">
                    <div class="row d-flex flex-col flex-lg-row ">
                        <div class="col-md-12 text-center gs_reveal">
                            <h2 class="text-dark quote">Media <span class="judul">Sosial</span></h2>
                            <div class="row pb-3 justify-content-center">
                                <div class="col-md-4 col-lg-3 pt-3">
                                    <div class="w-100 text-center">
                                        <div class="contact-icon d-flex align-items-center justify-content-center">
                                            <i class='text-white bx bxl-instagram-alt'></i>
                                        </div>
                                        <div class="pt-4 text">
                                            <p><span>Instagram: </span>
                                                <a target="_blank"
                                                    href="https://www.instagram.com/himamo_polman/">@himamo_polman</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 col-lg-3 pt-3">
                                    <div class="w-100 text-center">
                                        <div class="contact-icon d-flex align-items-center justify-content-center">
                                            <i class='text-white bx bxl-youtube'></i>
                                        </div>
                                        <div class="pt-4 text">
                                            <p><span>Youtube: </span>
                                                <a target="_blank"
                                                    href="https://www.youtube.com/channel/UC0ZEfY5moa9gWIIksG3aflw/">Official
                                                    Himamo</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4 col-lg-3 pt-3">
                                    <div class="w-100 text-center">
                                        <div class="contact-icon d-flex align-items-center justify-content-center">
                                            <i class='text-white bx bxl-tiktok'></i>
                                        </div>
                                        <div class="pt-4 text">
                                            <p><span>TikTok: </span>
                                                <a target="_blank"
                                                    href="https://www.tiktok.com/@himamo_official">himamo_official</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4 col-lg-3 pt-3">
                                    <div class="w-100 text-center">
                                        <div class="contact-icon d-flex align-items-center justify-content-center">
                                            <i class='text-white bx bxl-linkedin-square'></i>
                                        </div>
                                        <div class="pt-4 text">
                                            <p><span>LinkedIn: </span>
                                                <a target="_blank"
                                                    href="https://www.linkedin.com/company/himamo/">HIMAMO</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="row justify-content-center align-items-stretch gx-4 gy-4">
                                    <div class="col-md-6">
                                        <div class="media-embed-scrollable">
                                            <iframe class="w-100"
                                                src="https://www.instagram.com/p/DIGQEvhPLk3/embed/captioned/"
                                                allowtransparency="true" allowfullscreen="true" frameborder="0"
                                                scrolling="no">
                                            </iframe>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="media-embed-box">
                                            <blockquote class="tiktok-embed w-100 h-100"
                                                cite="https://www.tiktok.com/@himamo_official"
                                                data-unique-id="himamo_official" data-embed-from="embed_page"
                                                data-embed-type="creator">
                                                <section>
                                                    <a target="_blank"
                                                        href="https://www.tiktok.com/@himamo_official?refer=creator_embed">
                                                        @himamo_official
                                                    </a>
                                                </section>
                                            </blockquote>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
                <div class="container pb-5 px-5 pt-5">
                    <div class="row d-flex flex-col flex-lg-row">
                        <div class="col-md-12 gs_reveal">
                            <h2 class="text-dark quote text-center">Hubungi <span class="judul">Kami</span></h2>
                            <div class="row pb-3 justify-content-center">
                                <div class="col-md-4 col-lg-3 pt-3">
                                    <div class="w-100 text-center">
                                        <div class="contact-icon d-flex align-items-center justify-content-center">
                                            <i class='text-white bx bxs-map'></i>
                                        </div>
                                        <div class="pt-4 text">
                                            <p><span>Alamat: </span> Jl. Kanayakan No 21, Dago, Bandung</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 col-lg-3 pt-3">
                                    <div class="w-100 text-center">
                                        <div class="contact-icon d-flex align-items-center justify-content-center">
                                            <i class='text-white bx bxs-envelope'></i>
                                        </div>
                                        <div class="pt-4 text">
                                            <p><span>Email: </span>
                                                <a target="_blank"
                                                    href="mailto:informasihimamo@gmail.com">informasihimamo@gmail.com</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 col-lg-3 pt-3">
                                    <div class="w-100 text-center">
                                        <div class="contact-icon d-flex align-items-center justify-content-center">
                                            <i class='text-white bx bx-globe'></i>
                                        </div>
                                        <div class="pt-4 text">
                                            <p><span>Website: </span>
                                                <a target="_blank" href="https://himamopolman.org">himamopolman.org</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-5 g-0 contact-wrap">
                                <div class="col-md-5">
                                    <div id="map"></div>
                                </div>
                                <div class="col-md-6 formisi">
                                    <div class="w-100 p-md-5">
                                        <h2 class="quote text-dark mb-4">Hubungi <span class="judul"> Kami </span></h2>
                                        <form name="submit-to-google-sheet" class="contactForm">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label class="label" for="name">Nama Lengkap</label>
                                                        <input id="input-nama" type="text" class="form-control"
                                                            name="Name" id="name" placeholder="Nama">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label class="label" for="email">Alamat Email</label>
                                                        <input id="input-mail" type="email" class="form-control"
                                                            name="Email" id="email" placeholder="Email">
                                                    </div>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group pt-3">
                                                        <label class="label" for="subject">Subjek</label>
                                                        <input type="text" class="form-control" name="Subject"
                                                            id="subject" placeholder="Subjek">
                                                    </div>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group pt-3">
                                                        <label class="label" for="#">Pesan</label>
                                                        <textarea id="input-pesan" name="Message" class="form-control" id="Message" cols="30" rows="6"
                                                            placeholder="Pesan"></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group pt-4">
                                                        <input onClick="return empty()" type="submit"
                                                            value="Kirim Pesan" class="btn-kirim btn btn-primary">
                                                        <div class="submitting"></div>
                                                    </div>
                                                    <button class="btn-load btn btn-primary d-none" type="button"
                                                        disabled>
                                                        <span class="spinner-border spinner-border-sm" role="status"
                                                            aria-hidden="true"></span>
                                                        Tunggu...
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

        </section>
    </div>
@endsection
    <style>
        .media-embed-box {
            width: 100%;
            height: 500px;
            overflow: hidden;
            border-radius: 8px;
            border: 1px solid #ddd;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .media-embed-box iframe,
        .media-embed-box blockquote {
            width: 100% !important;
            height: 100% !important;
            margin: 0;
        }

        .media-embed-scrollable {
            height: 500px;
            overflow-y: auto;
            border-radius: 8px;
            border: 1px solid #ddd;
            background: white;
            overflow-y: scroll;
            /* scroll tetap aktif */
            -ms-overflow-style: none;
            /* IE dan Edge */
            scrollbar-width: none
        }

        .media-embed-scrollable::-webkit-scrollbar {
            display: none;
            /* Chrome, Safari, Opera */
        }

        .media-embed-scrollable iframe {
            width: 100% !important;
            min-height: 1000px;
            /* cukup tinggi untuk memungkinkan scroll ke caption */
            border: none;
            display: block;
        }
    </style>

    @push('scripts')
        <script async src="https://www.tiktok.com/embed.js"></script>
        <script async src="//www.instagram.com/embed.js"></script>
        <script src="{{ asset('assets-guest/js/gmaps.min.js') }}"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.5/dist/sweetalert2.all.min.js"></script>
        <script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=true"></script>
        <script type="text/javascript">
            var map;
            $(document).ready(function() {
                map = new GMaps({
                    el: '#map',
                    lat: -6.877208158946447,
                    lng: 107.62017115624813,
                });
                map.addMarker({
                    lat: -6.877208158946447,
                    lng: 107.62017115624813,
                    title: 'Lima',
                    infoWindow: {
                        content: '<p class="mapinfo" >HIMAMO HEADQUARTERS @ POLITEKNIK MANUFAKTUR BANDUNG</p>'
                    }
                });
            });
        </script>
        <script>
            function empty() {
                var nama;
                var mail;
                var pesan;
                nama = document.getElementById("input-nama").value;
                mail = document.getElementById("input-mail").value;
                pesan = document.getElementById("input-pesan").value;
                if (nama == "") {
                    Swal.fire({
                        title: 'Error!',
                        text: 'Please Fill The Form!',
                        icon: 'error',
                        confirmButtonText: 'Back',
                        confirmButtonColor: '#028784'
                    })
                    return false;
                };
                if (mail == "") {
                    Swal.fire({
                        title: 'Error!',
                        text: 'Please Fill The Form!',
                        icon: 'error',
                        confirmButtonText: 'Back',
                        confirmButtonColor: '#028784'
                    })
                    return false;
                };
                if (pesan == "") {
                    Swal.fire({
                        title: 'Error!',
                        text: 'Please Fill The Form!',
                        icon: 'error',
                        confirmButtonText: 'Back',
                        confirmButtonColor: '#028784'
                    })
                    return false;
                };
            }
        </script>
        <script>
            const scriptURL =
                'https://script.google.com/macros/s/AKfycbxuHY2OfEhNZKWNCGxA_0ZjRCPIPTZ8FE2TQO__ZLiKq9zbEIX1wFpdorazjow42ew/exec'
            const form = document.forms['submit-to-google-sheet']
            const kirim = document.querySelector('.btn-kirim');
            const loading = document.querySelector('.btn-load');

            form.addEventListener('submit', e => {
                e.preventDefault()
                loading.classList.toggle('d-none');
                kirim.classList.toggle('d-none');
                fetch(scriptURL, {
                        method: 'POST',
                        body: new FormData(form)
                    })
                    .then(response => {
                        Swal.fire({
                            title: 'Success!',
                            text: 'Your Message Has Been Sent',
                            icon: 'success',
                            confirmButtonText: 'OK',
                            confirmButtonColor: '#028784'
                        })
                        form.reset();
                        loading.classList.toggle('d-none');
                        kirim.classList.toggle('d-none');
                    })
                    .catch(error => {
                        Swal.fire({
                            title: 'Error!',
                            text: 'Do you want to continue',
                            icon: 'error',
                            confirmButtonText: 'Back',
                            confirmButtonColor: '#028784'
                        })
                        form.reset();
                    })
            })
        </script>
    @endpush
